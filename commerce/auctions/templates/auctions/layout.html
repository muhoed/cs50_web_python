{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{% block title %}Auctions{% endblock %}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link href="{% static 'auctions/styles.css' %}" rel="stylesheet">
    </head>
    <body>
		<div class="container navbar">
			<div class="navbar-logo">
				<h1>Auctions</h1>
				<div>
					{% if user.is_authenticated %}
						Signed in as <strong>{{ user.username }}</strong>.
					{% else %}
						Not signed in.
					{% endif %}
				</div>
			</div>
			{% if messages %}
				<ul class="messages">
					{% for message in messages %}
					<li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
						{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
						{{ message }}
					</li>
					{% endfor %}
				</ul>
			{% endif %}
			<ul class="nav">
				<li class="nav-item">
					<a class="nav-link" href="{% url 'auctions:index' %}">Active Listings</a>
				</li>
				{% if user.is_authenticated %}
					<li class="nav-item">
						<a class="nav-link" href="{% url 'auctions:watchlist' %}">Watchlist</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{% url 'auctions:create_listing' %}">Sell</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{% url 'auctions:messenger' %}">Messages</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{% url 'auctions:profile' user.pk %}">Account</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{% url 'auctions:logout' %}">Log Out</a>
					</li>
				{% else %}
					<li class="nav-item">
						<a class="nav-link" href="{% url 'auctions:login' %}">Log In</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{% url 'auctions:register' %}">Register</a>
					</li>
				{% endif %}
			</ul>
        </div>
        <div class="container">
			<form class="form inline-form" action="{% url 'auctions:search' %}" method="GET">
				{{ sform.as_p }}
				<input type="submit" name="search" role="button" value="Search">
			</form>
		</div>
        <hr>
		<ul class="nav">
			{% for category in categories_list %}
				<li class="nav-item">
					<a class="nav-link" href="{% url 'auctions:categories' category.id %}">
						{{ category.name | capfirst }}
					</a>
				</li>
			{% endfor %}
		</ul>
        {% block body %}
        {% endblock %}
    </body>
</html>
